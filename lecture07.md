# lecture07: Security

## 個人感想
- セキュリティーはどの時代でも一番の課題だと思っています
- プログラミングを接触し始める前に、自分はセキュリティーに対しての態度は<code>どうせ私は狙われるはずがない</code>ということでした
- 勉強すれば勉強するほど、セキュリティーの大事さを感じられるようになってきました。

## 今作っている環境のセキュリティー
- 今作っている環境では、いくつの弱点があることを心がけてます
- 1. security group: 便利のため、sshの接続は<code>0.0.0.0/0</code>に許可してます
- 2. DB: dbのconfigのファイルに、host、passwordなどを便利のためすべてhardcodeしてます
- 3. アプリ自体：デプロイしたアプリに、credentialの設定はそもそもないので、すべての人でもアクセスできるようになってます

## 改善できるポイント
- 一番外からさえ入れなければ、中のレイヤーに入れないという個人的な考えですが、
- 1. security groupのport 22 は自分のパソコンのIPのみ接続できるようにすれば、他のところの接続をrefuseできる。
- 2. パスワードなどは環境変数で設定して、ファイルの中に変数の名前をしてすれば実際のcredentialを隠せます、これは best practice だと、いろんなtutorialも常に提示してます
- 3. アプリの対象clientは誰なのかを想定して、password無しでの利用を制限したりするなどのも考えられます。

## 追加ポイント
- Auto Scaling：DDosに弱い機能、無限にscalingできるように設定してしまうと、大trafficの攻撃を受けてしまうと料金が無限に増殖するリスクがある
- ELBのinstanceからしかアプリのinstanceに接続できないように設定する：ELBというレイヤーを追加して、アプリのinstanceは private subnetの中に隠れて、アクセスはELBのみで設定しておけば、アプリinstanceへのアクセスのリスクがかなり減る予想ができます。前提としてはELBはそとのrequestをfilterする必要もあります、アプリが必要なrequestのみfilterして、アプリのinstanceへ渡すという流れになります。
